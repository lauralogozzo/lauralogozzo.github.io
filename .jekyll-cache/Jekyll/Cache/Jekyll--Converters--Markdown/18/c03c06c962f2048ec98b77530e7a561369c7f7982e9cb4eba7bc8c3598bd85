I"Ò<p>A function modified from the stat_cor() function in <em>ggpubr</em> to add the 
R<font size="2"><sup>2</sup></font> value and p-significance to ggplot.</p>

<h3> Documentation </h3>

<pre>
  <code>
stat_cor_r2(
  mapping = NULL,
  data = NULL,
  label.x.npc = "left",
  label.y.npc = "top",
  output.type = "expression",
  digits = 2,
  r.digits = digits,
  p.digits = digits,
  geom = "text",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
  </code>
</pre>

<p>Defaults to two significant digits for R<sup><font size="2">2</font></sup> and <em>p</em>-value, except when <em>p</em> &lt; 0.001.</p>

<p>See additional documentation for stat_cor() from <em>ggpubr</em>.</p>

<h3> Load Function into Global Environment </h3>
<pre>
  <code>
source("https://lauralogozzo.github.io/assets/stat-cor-r2.R.txt")
  </code>
</pre>

<h3> Examples </h3>
<pre>
  <code>
# Load required packages
library(ggplot2)
library(ggpubr)

# Load iris data
data(iris)

# Plot scatterplot and add r2 and p-value
ggplot(data = iris, aes(x = Sepal.Length, y = Petal.Length)) + 
  geom_point(size = 2) + 
  geom_smooth(method = "lm") + 
  theme_classic(base_size = 14) +
  stat_cor_r2(size = 5)
  </code>
</pre>
<figure class="figure  figure--center"> 
  
  <img class="image" src="/images/stat-cor-r2.svg" alt="Default is to add 
R&lt;sup&gt;&lt;font size = 1&gt;2&lt;/font&gt;&lt;/sup&gt; and p-value to the top-left" width="500" height="800" />
  
  <figcaption class="caption">Default is to add 
R<sup><font size="1">2</font></sup> and p-value to the top-left</figcaption>
</figure>

<pre>
  <code>
# Load ggplot
library('ggplot2')

# Creates a global environment object named 'myCols' that contains the chosen palette
getCols("nausicaa")

# Get iris data
data(iris)

# Ggplot example
ggplot(data=iris, aes(Petal.Length,Sepal.Length, color = Species)) +
  geom_point(size = 2)+
  scale_color_manual(values = myCols) +
  theme_classic()

  </code>
</pre>

<figure class="figure  figure--center"> 
  
  <img class="image" src="/images/ggplot-Example.svg" alt="Plotted species (categorical) by color using the chosen palette - ggplot" width="500" height="800" />
  
  <figcaption class="caption">Plotted species (categorical) by color using the chosen palette - ggplot</figcaption>
</figure>

<p>An example of a gradient palette for continuous data in ggplot:</p>
<pre>
  <code>
# Load ggplot
library('ggplot2')

# Get color palette
getCols("sunset")

# Plot continuous scale
ggplot(data=iris, aes(Petal.Length,Sepal.Length, color = Petal.Width)) +
  geom_point(size = 2) +
  scale_color_gradientn(colors = rev(myCols)) +
  theme_classic()

  </code>
</pre>

<figure class="figure  figure--center"> 
  
  <img class="image" src="/images/ggplot-Scale-Example.svg" alt="Plotted petal width (continuous) by color using the chosen palette - ggplot" width="500" height="800" />
  
  <figcaption class="caption">Plotted petal width (continuous) by color using the chosen palette - ggplot</figcaption>
</figure>

:ET